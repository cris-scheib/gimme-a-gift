(function(e){function t(t){for(var n,i,r=t[0],l=t[1],c=t[2],d=0,m=[];d<r.length;d++)i=r[d],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&m.push(o[i][0]),o[i]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);u&&u(t);while(m.length)m.shift()();return s.push.apply(s,c||[]),a()}function a(){for(var e,t=0;t<s.length;t++){for(var a=s[t],n=!0,r=1;r<a.length;r++){var l=a[r];0!==o[l]&&(n=!1)}n&&(s.splice(t--,1),e=i(i.s=a[0]))}return e}var n={},o={app:0},s=[];function i(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=n,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(a,n,function(t){return e[t]}.bind(null,n));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=t,r=r.slice();for(var c=0;c<r.length;c++)t(r[c]);var u=l;s.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"06f4":function(e,t,a){"use strict";a("4437")},"0950":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("sidebar"),a("main",[a("header",[a("b-link",{staticClass:"user-data",attrs:{to:"/me"}},[a("b-icon",{attrs:{icon:"person"}}),a("p",{staticClass:"m-0 pl-2"},[e._v(e._s(this.username))])],1),a("b-button",{staticClass:"btn-logout",on:{click:function(t){return e.logout()}}},[e._v(" Logout ")])],1),e._t("default"),a("footer")],2)],1)},o=[],s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("nav",[a("b-nav",{attrs:{vertical:""}},[a("b-nav-item",{attrs:{to:"dashboard"}},[a("b-icon",{attrs:{icon:"bar-chart-fill"}}),e._v(" Dashboard ")],1),a("b-nav-item",{attrs:{to:"movements"}},[a("b-icon",{attrs:{icon:"credit-card"}}),e._v(" Movements ")],1),a("b-nav-item",{attrs:{to:"movements-types"}},[a("b-icon",{attrs:{icon:"arrow-down-up"}}),e._v(" Types of movements")],1)],1)],1)},i=[],r={},l=r,c=(a("e408"),a("2877")),u=Object(c["a"])(l,s,i,!1,null,"0472050b",null),d=u.exports,m={components:{Sidebar:d},data:function(){return{username:""}},methods:{logout:function(){localStorage.clear(),this.$router.push("/")}},created:function(){this.username=localStorage.getItem("username")}},f=m,p=(a("06f4"),Object(c["a"])(f,n,o,!1,null,"4779f65e",null));t["a"]=p.exports},"19cf":function(e,t,a){"use strict";a("e323")},"2ab8":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",{staticClass:"form",attrs:{fluid:""}},[a("b-row",{staticClass:"h-100"},[a("b-col",{staticClass:"m-auto",attrs:{lg:"5",cols:"8"}},[a("b-form",[a("header",[a("h3",{staticClass:"title"},[e._v(" "+e._s(e.account?"Login with your account":"Have an account?")+" ")])]),a("section",[e.account?e._e():a("b-form-group",[a("b-form-input",{attrs:{id:"username",type:"text",placeholder:"Username",required:""},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}})],1),a("b-form-group",[a("b-form-input",{attrs:{id:"email",type:"email",placeholder:"Email",required:""},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1),a("b-form-group",[a("b-form-input",{attrs:{id:"password",type:"password",placeholder:"Password",autocomplete:"on",required:""},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),a("b-form-group",[a("b-form-checkbox",{model:{value:e.account,callback:function(t){e.account=t},expression:"account"}},[e._v("I already have an account")])],1)],1),a("footer",{staticClass:"center"},[a("b-button",{staticClass:"button is-primary",attrs:{disabled:e.loading},on:{click:function(t){return e.check()}}},[e._v(" "+e._s(e.account?"Login":"Sign in"))])],1)])],1)],1)],1)},o=[],s={props:["hasAccount"],data:function(){return{username:"",email:"",password:"",account:this.hasAccount,loading:!1}},methods:{makeToast:function(){this.$bvToast.toast("Email or password invalid",{title:"Error",variant:"danger",solid:!0})},check:function(){var e=this;this.loading=!0;var t=this.username,a=this.email,n=this.password;this.$api.post("/api/auth/".concat(this.account?"login":"register"),{username:t,email:a,password:n}).catch((function(e){console.log("error",e)})).then((function(t){void 0!=t?(localStorage.setItem("token",t.data.token.token),localStorage.setItem("refreshToken",t.data.token.refreshToken),localStorage.setItem("username",t.data.username),e.$router.push("/dashboard")):(e.makeToast(),e.loading=!1)}))}}},i=s,r=(a("b677"),a("2877")),l=Object(r["a"])(i,n,o,!1,null,"0f9b187d",null);t["default"]=l.exports},4437:function(e,t,a){},"56d3":function(e,t,a){"use strict";a("d6e0")},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d"),a("d3b7"),a("ac1f"),a("5319");var n=a("2b0e"),o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},s=[],i={name:"App",components:{}},r=i,l=a("2877"),c=Object(l["a"])(r,o,s,!1,null,null,null),u=c.exports,d=a("8c4f");n["default"].use(d["a"]);var m=new d["a"]({routes:[{path:"/",name:"auth",component:a("2ab8").default,meta:{guest:!0}},{path:"/dashboard",name:"dashboard",component:a("63f0").default,meta:{guest:!1}},{path:"/me",name:"me",component:a("600c").default,meta:{guest:!1}},{path:"/movements-types",name:"movements-types",component:a("adec").default,meta:{guest:!1}},{path:"/movements",name:"movements",component:a("d6b8").default,meta:{guest:!1}}]});m.beforeEach((function(e,t,a){if(e.matched.some((function(e){return e.meta.requiresAuth}))){var n=localStorage.getItem("token");n&&"null"!==n?a():a({path:"/",params:{nextUrl:e.fullPath}})}else if(e.matched.some((function(e){return e.meta.guest}))){var o=localStorage.getItem("token");o&&"null"!==o?a({name:"dashboard"}):a()}else a()}));var f=m,p=a("5f5b"),h=a("b1e0"),v=(a("f9e3"),a("2dd8"),a("bc3a")),b=a.n(v);a("89e3");var g=b.a.create({baseURL:"http://localhost:3333"});g.interceptors.request.use((function(e){var t=localStorage.getItem("token");return t&&(e.headers["Authorization"]="Bearer ".concat(t)),e}),(function(e){return Promise.reject(e)})),g.interceptors.response.use((function(e){return e}),(function(e){if(401!==e.response.status)return Promise.reject(e.response.data);localStorage.clear(),f.replace({path:"/"})})),n["default"].api=n["default"].prototype.$api=g,n["default"].config.productionTip=!1,n["default"].use(p["a"]),n["default"].use(h["a"]),new n["default"]({router:f,render:function(e){return e(u)},history:history}).$mount("#app")},5812:function(e,t,a){},"600c":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("layout",[a("b-container",{attrs:{fluid:""}},[a("div",{staticClass:"avatar"},[a("div",{staticClass:"icon"},[a("b-icon",{attrs:{icon:"person"}})],1)]),a("b-row",{staticClass:"center"},[a("b-col",{attrs:{cols:"12",md:"6"}},[a("b-form",[a("section",[a("b-form-group",[a("b-form-input",{attrs:{id:"username",type:"text",placeholder:"Username",required:"",disabled:""},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}})],1),a("b-form-group",[a("b-form-input",{attrs:{id:"email",type:"email",placeholder:"Email",required:"",disabled:""},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1),a("b-form-group",[a("b-form-input",{staticClass:"mt-3",attrs:{id:"password",type:"password",placeholder:"Current Password",required:"",autocomplete:"on"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),a("b-form-group",[a("b-form-input",{attrs:{id:"newPassword",type:"password",placeholder:"New Password",required:"",autocomplete:"on"},model:{value:e.newPassword,callback:function(t){e.newPassword=t},expression:"newPassword"}})],1)],1),a("footer",{staticClass:"center"},[a("b-button",{staticClass:"button is-primary",attrs:{disabled:e.loading},on:{click:function(t){return e.changePassword()}}},[e._v("Change password")])],1)])],1)],1)],1)],1)},o=[],s=a("0950"),i={components:{Layout:s["a"]},data:function(){return{username:"",email:"",password:"",newPassword:"",account:this.hasAccount,loading:!1,errors:[],errorsDuration:12e3}},methods:{makeToast:function(e,t){this.$bvToast.toast(t,{title:"danger"===e?"Error":"Success",variant:e,solid:!0})},changePassword:function(){var e=this,t=this.password,a=this.newPassword,n=this.email;this.$api.put("/api/user/password/",{password:t,newPassword:a,email:n}).then((function(t){e.makeToast("success",t.data.message),e.password="",e.newPassword=""})).catch((function(t){e.makeToast("danger",t.message),console.log("error",t)}))}},created:function(){var e=this;this.$api.get("/api/user/me").then((function(e){return e.data})).then((function(t){e.username=t.username,e.email=t.email}))}},r=i,l=(a("19cf"),a("2877")),c=Object(l["a"])(r,n,o,!1,null,"2d7d79bf",null);t["default"]=c.exports},"63f0":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("layout")},o=[],s=a("0950"),i={components:{Layout:s["a"]}};s["a"];var r=i,l=a("2877"),c=Object(l["a"])(r,n,o,!1,null,null,null);t["default"]=c.exports},8465:function(e,t,a){},"89e3":function(e,t,a){},abe1:function(e,t,a){},adec:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("layout",[a("b-container",[a("div",{staticClass:"d-flex align-items-center"},[a("h3",{staticClass:"title"},[e._v("Types os Movements")]),a("div",{staticClass:"ml-auto"},[a("b-button",{staticClass:"btn-edit",on:{click:function(t){return e.openEditModal()}}},[a("b-icon",{attrs:{icon:"plus"}}),e._v(" Create")],1)],1)]),a("b-modal",{ref:"modal-edit",attrs:{id:"modal-edit-create",title:this.title},on:{hidden:e.resetModal,ok:e.handleOk}},[a("form",{ref:"form",on:{submit:function(t){return t.stopPropagation(),t.preventDefault(),e.handleSubmit.apply(null,arguments)}}},[a("b-form-group",{attrs:{label:"Name","label-for":"name-input","invalid-feedback":"Name is required"}},[a("b-form-input",{attrs:{id:"name-input",required:""},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1),a("b-form-group",{attrs:{id:"action-label",label:"Action:","label-for":"action"}},[a("b-form-select",{attrs:{id:"action",options:e.actionList},model:{value:e.action,callback:function(t){e.action=t},expression:"action"}})],1),a("b-form-group",{attrs:{id:"status-label",label:"Status:","label-for":"status"}},[a("b-form-select",{attrs:{id:"status",options:e.statusList,required:""},model:{value:e.status,callback:function(t){e.status=t},expression:"status"}})],1)],1)]),a("b-table",{staticClass:"text-white",attrs:{striped:"",hover:"",responsive:"",items:e.items,fields:e.fields,title:""},scopedSlots:e._u([{key:"cell(edit)",fn:function(t){return[a("a",{staticClass:"action-icon",on:{click:function(a){return e.openEditModal(t.value)}}},[a("b-icon",{attrs:{icon:"pencil-fill"}})],1)]}},{key:"cell(delete)",fn:function(t){return[a("a",{staticClass:"action-icon",on:{click:function(a){return e.openDeleteModal(t.value)}}},[a("b-icon",{attrs:{icon:"x"}})],1)]}},{key:"cell(action)",fn:function(t){return[e._v(" "+e._s(t.value?"In":"Out")+" ")]}},{key:"cell(status)",fn:function(t){return[e._v(" "+e._s(t.value?"Enabled":"Disabled")+" ")]}}])})],1)],1)},o=[],s=a("b85c"),i=(a("b0c0"),a("7db0"),a("0950")),r={components:{Layout:i["a"]},data:function(){return{fields:["edit","delete","name","action","status"],items:[],name:"",action:!0,title:"",status:!0,id:null,boxTwo:null,actionList:[{value:!0,text:"In"},{value:!1,text:"Out"}],statusList:[{value:!0,text:"Enabled"},{value:!1,text:"Disabled"}]}},methods:{makeToast:function(e,t){this.$bvToast.toast(t,{title:"danger"===e?"Error":"Success",variant:e,solid:!0})},openEditModal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(null==e)this.title="Create a Movement Type",this.name="";else{this.title="Edit a Movement Type",this.id=e;var t=this.items.find((function(t){return t.edit===e}));this.action=t.action,this.name=t.name,this.status=t.status}this.$refs["modal-edit"].show()},openDeleteModal:function(e){var t=this;this.boxTwo="",this.$bvModal.msgBoxConfirm("Please confirm that you want to delete this Movement Type.",{title:"Please Confirm",size:"sm",buttonSize:"sm",okVariant:"danger",okTitle:"YES",cancelTitle:"NO",footerClass:"p-2",hideHeaderClose:!1,centered:!0}).then((function(e){t.boxTwo=e,t.boxTwo&&t.$api.delete("/api/movement-type/".concat(t.id)).then((function(){t.makeToast("success","Movement type deleted with success"),t.items=[],t.getTypes()})).catch((function(e){t.makeToast("danger",e.message),console.log("error",e)}))})).catch((function(e){console.log(e)})),this.id=e},resetModal:function(){this.name="",this.status=!0,this.action=!0},handleOk:function(){var e=this,t=this.name,a=this.status,n=this.action;null==this.id?this.$api.post("/api/movement-type/",{name:t,status:a,action:n}).then((function(t){e.makeToast("success","New movement type created with success"),console.log(t),e.items=[],e.getTypes()})).catch((function(t){e.makeToast("danger",t.message),console.log("error",t)})):this.$api.put("/api/movement-type/".concat(this.id),{name:t,status:a,action:n}).then((function(t){e.makeToast("success","Movement type updated with success"),console.log(t),e.items=[],e.getTypes()})).catch((function(t){e.makeToast("danger",t.message),console.log("error",t)}))},handleSubmit:function(){},getTypes:function(){var e=this;this.$api.get("/api/movement-type/").then((function(e){return e.data})).then((function(t){var a,n=Object(s["a"])(t);try{for(n.s();!(a=n.n()).done;){var o=a.value,i={edit:o.id,delete:o.id,name:o.name,action:o.action,status:o.status};e.items.push(i)}}catch(r){n.e(r)}finally{n.f()}})).catch((function(){}))}},created:function(){this.getTypes()}};i["a"];var l=r,c=(a("56d3"),a("2877")),u=Object(c["a"])(l,n,o,!1,null,"e76af33c",null);t["default"]=u.exports},b677:function(e,t,a){"use strict";a("abe1")},d6b8:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("layout",[a("b-container",[a("div",{staticClass:"d-flex align-items-center"},[a("h3",{staticClass:"title"},[e._v("Movements")]),a("div",{staticClass:"ml-auto"},[a("b-button",{staticClass:"btn-edit",on:{click:function(t){return e.openEditModal()}}},[a("b-icon",{attrs:{icon:"plus"}}),e._v(" Create")],1)],1)]),a("b-modal",{ref:"modal-edit",attrs:{id:"modal-edit-create",title:this.title},on:{hidden:e.resetModal,ok:e.handleOk}},[a("form",{ref:"form",on:{submit:function(t){return t.stopPropagation(),t.preventDefault(),e.handleSubmit.apply(null,arguments)}}},[a("b-form-group",{attrs:{label:"Name","label-for":"name-input","invalid-feedback":"Name is required"}},[a("b-form-input",{attrs:{id:"name-input",required:""},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1),a("b-form-group",{attrs:{label:"Value","label-for":"value-input","invalid-feedback":"Value is required"}},[a("b-form-input",{attrs:{id:"value-input",type:"number",required:""},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1),a("b-form-group",{attrs:{id:"type-label",label:"Movement Type:","label-for":"movement_type"}},[a("b-form-select",{attrs:{id:"movement_type",options:e.types},model:{value:e.movement_type,callback:function(t){e.movement_type=t},expression:"movement_type"}})],1)],1)]),a("b-table",{staticClass:"text-white",attrs:{striped:"",hover:"",responsive:"",items:e.items,fields:e.fields,title:""},scopedSlots:e._u([{key:"cell(edit)",fn:function(t){return[a("a",{staticClass:"action-icon",on:{click:function(a){return e.openEditModal(t.value)}}},[a("b-icon",{attrs:{icon:"pencil-fill"}})],1)]}},{key:"cell(delete)",fn:function(t){return[a("a",{staticClass:"action-icon",on:{click:function(a){return e.openDeleteModal(t.value)}}},[a("b-icon",{attrs:{icon:"x"}})],1)]}},{key:"cell(value)",fn:function(t){return[e._v(" $"+e._s(t.value)+" ")]}},{key:"cell(movement_type)",fn:function(t){return[e._v(" "+e._s(e.types.find((function(e){return e.value===t.value})).text)+" ")]}}])})],1)],1)},o=[],s=a("b85c"),i=(a("b0c0"),a("7db0"),a("0950")),r={components:{Layout:i["a"]},data:function(){return{fields:["edit","delete","name","value","movement_type"],items:[],name:"",value:null,movement_type:null,title:"",types:[],id:null,boxTwo:null}},methods:{makeToast:function(e,t){this.$bvToast.toast(t,{title:"danger"===e?"Error":"Success",variant:e,solid:!0})},openEditModal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(null==e)this.title="Create a Movement",this.name="";else{this.title="Edit a Movement",this.id=e;var t=this.items.find((function(t){return t.edit===e}));this.name=t.name,this.value=t.value,this.movement_type=t.movement_type}this.$refs["modal-edit"].show()},openDeleteModal:function(e){var t=this;this.boxTwo="",this.$bvModal.msgBoxConfirm("Please confirm that you want to delete this Movement.",{title:"Please Confirm",size:"sm",buttonSize:"sm",okVariant:"danger",okTitle:"YES",cancelTitle:"NO",footerClass:"p-2",hideHeaderClose:!1,centered:!0}).then((function(e){t.boxTwo=e,t.boxTwo&&t.$api.delete("/api/movement/".concat(t.id)).then((function(){t.makeToast("success","Movement deleted with success"),t.items=[],t.getMovements()})).catch((function(e){t.makeToast("danger",e.message),console.log("error",e)}))})).catch((function(e){console.log(e)})),this.id=e},resetModal:function(){this.name="",this.value=null,this.movement_type=this.types[0].value},handleOk:function(){var e=this,t=this.name,a=this.value,n=this.movement_type;null==this.id?this.$api.post("/api/movement/",{name:t,value:a,movement_type_id:n}).then((function(t){e.makeToast("success","New movement created with success"),console.log(t),e.items=[],e.getMovements()})).catch((function(t){e.makeToast("danger",t.message),console.log("error",t)})):this.$api.put("/api/movement/".concat(this.id),{name:t,value:a,movement_type_id:n}).then((function(t){e.makeToast("success","Movement updated with success"),console.log(t),e.items=[],e.getMovements()})).catch((function(t){e.makeToast("danger",t.message),console.log("error",t)}))},handleSubmit:function(){},getTypes:function(){var e=this;this.$api.get("/api/movement-type/").then((function(e){return e.data})).then((function(t){var a,n=Object(s["a"])(t);try{for(n.s();!(a=n.n()).done;){var o=a.value,i={value:o.id,text:o.name};e.types.push(i)}}catch(r){n.e(r)}finally{n.f()}e.movement_type=e.types[0].value})).catch((function(){}))},getMovements:function(){var e=this;this.$api.get("/api/movement/").then((function(e){return e.data})).then((function(t){var a,n=Object(s["a"])(t);try{for(n.s();!(a=n.n()).done;){var o=a.value,i={edit:o.id,delete:o.id,name:o.name,value:o.value,movement_type:o.movement_type_id};e.items.push(i)}}catch(r){n.e(r)}finally{n.f()}})).catch((function(){}))}},created:function(){this.getTypes(),this.getMovements()}};i["a"];var l=r,c=(a("e40a"),a("2877")),u=Object(c["a"])(l,n,o,!1,null,"d36db2ee",null);t["default"]=u.exports},d6e0:function(e,t,a){},e323:function(e,t,a){},e408:function(e,t,a){"use strict";a("8465")},e40a:function(e,t,a){"use strict";a("5812")}});
//# sourceMappingURL=app.145241b7.js.map